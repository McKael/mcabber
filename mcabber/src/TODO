
BUGS:

* Presence notification is always accepted.
* I have seen a segfault, but don't know how to reproduce it...
  Seems to be due to a disconnection from the server.
* Check with strdup and efence (jabglue). J'me comprends...
* Check if it crashes when resized too small...


TODO:

* Command line history (^P/^N)
* External commands for events
* Read history
* Display status
* show (how?) we can scroll in roster if not all buddies are displayed
* Get timestamp for offline messages
* /connect /disconnect ?
* Key bindings (ex: F5 <-> /group toggle)
* Pending message not displayed if buddy outside Contact window,
  maybe we could show it someway (maybe just a flag?).
* Add a function in hbuf ~previous_persistent(hbuf *top) (to avoid loosing the
  top variable on a resize).

* Commands! :-)
  - /roster <hide_offline|show_offline|top|bottom>
    + next_message (Ctrl-q?)
  - /group <expand|shrink|toggle>
  - /say blabla
  - /say_to <jid> blabla
  - /add <jid> [Name]
  - /del [jid]
  - /move [\<jid\>] <group>
  - /nick (== rename <me> $@)
  - /rename [\<jid\>] Name
  - /info [jid]
  - /request_auth [jid]
  - /send_auth [jid]
  - /status [online|avail|invisible|free|dnd|busy|notavail|away]
    (and common shortcuts: /away, /online, /busy, /dnd)
  - /rawxml...
  - /search <\<jid\>|name>
  - /clear
  - /help
* Multi-lines
* Handle message type "error"
* Shortcut to jump to next message received (shift-tab?)
* File transfer? :)
* Conferences :))
* Show status changes in buddy window (if open)?  Could be great!
* Auto away

