
BUGS:

* Presence notification is always accepted.
* Messages in hidden (shrunk) groups are not visible.
  Maybe we should create "*_msg_[gs]etflag()" functions, which
  would update groups message flags too. (?)
* Small but perhaps annoying: when we are on a group entry, w/
  offline buddies hidden and this group is removed from the list.
  Then the cursor goes back to the first item of the buddylist.
* We should lock the current buddy even not when being in chat mode.
  For example, if you're writing to s.o. and he leaves just before you
  press enter, you write to the wrong buddy.  Baad.


TODO:

* Display status
* show (how?) we can scroll in roster if not all buddies are displayed
* Get timestamp for offline messages
* /connect /disconnect ?
* Key bindings (ex: F5 <-> /group toggle)
* Pending message not displayed if buddy outside Contact window,
  maybe we could show it someway (maybe just a flag?).

* Commands! :-)
  - /roster <hide_offline|show_offline|top|bottom>
  - /group <expand|shrink|toggle>
  - /say blabla
  - /say_to <jid> blabla
  - /add <jid> [Name]
  - /del [jid]
  - /move [\<jid\>] <group>
  - /nick (== rename <me> $@)
  - /rename [\<jid\>] Name
  - /info [jid]
  - /request_auth [jid]
  - /send_auth [jid]
  - /status [online|avail|invisible|free|dnd|busy|notavail|away]
    (and common shortcuts: /away, /online, /busy, /dnd)
  - /rawxml...
  - /search <\<jid\>|name>
  - /clear
  - /help
* Command line history (^P/^N)
* External commands for events
* Multi-lines
* Handle message type "error"
* Handle window resize
* Read history
* Shortcut to jump to next message received (shift-tab?)
* File transfer? :)
* Conferences :))
* Show status changes in buddy window (if open)?  Could be great!
* Auto away

